# **Part 4: Describe general security and network security features**
## **_Protect against security threats on Azure_**
- Azure Security Center
    - It shows you how secure you are for both your Azure and on-premise services
    - Security posture
        - How well can you predict, prevent and respond to threats?
        - What cybersecurity policies and controls do you have in place?
    - Security Center can
        - Monitor all your security settings (Azure and on-prem)
        - Automatically apply security settings when a resource comes online
        - Provide security recommendations
        - Automatically identify potential vulnerabilities
        - Use ML to detect malware
        - Detect potential attacks
        - Provide just-in-time network port access
    - Dashboard view shows security health, compliance, reports, etc.
    - Cloud defense for VMs
        - just-in-time access to VMs
        - Control which apps can run on the VMs
        - Monitor network traffic
        - Monitor changes to important config files
    - You can set up workflows using Azure Logic Apps to respond to security threats
- Azure Sentinel
    - Aggregates sources of security info (security information and event management, SIEM)
    - Collect data from all users, devices, apps, infrastructure, both on-prem and cloud
    - Detect threats using Microsoft's analytics
    - Investigate threats with AI
    - Respond to threats rapidly
    - Connect to
        - Microsoft solution like Microsoft 365, Threat Protection, Azure Active Directory, Windows Defender Firewall
        - AWS CloudTrail, Citrix Analytics, VMWare Carbon Black Cloud, etc.
        - Sources that use Common Event Format (CEF) messaging, Syslog or REST
    - You can create custom analyzers to detect threats
    - When an incident occurs, the user can view an investigation graph that shows where/how the incident occurred
    - You can use Azure Monitor Playbooks to automate a response to a threat
- Azure Key Vault
    - Store app secrets in one cloud location
    - Manage secrets, encryption keys, SSL/TSL certificates or store secrets backed by hardware security modules (HSMs)
    - Benefits
        - Centralized app secrets
        - Securely stored
        - Access monitoring and access control
        - Simplify administration of secrets
        - Integrate easily with other Azure services, like storage accounts, containers, event hubs, etc.
- Azure Dedicated Host
    - Host your VMs on a dedicated physical server
    - If you want to be the only Azure customer running on a server, you can get a dedicated server
    - A "dedicated host" is a physical server in an Azure datacenter
    - A "host group" is a collection of dedicated servers
    - Benefits
        - Helps with compliance requirements if you're required to not share hardware with other customers
        - Lets you choose server hardware details, like processors
        - You have more control over the infrastructure than with a regular VM
        - You can also control when maintenance updates occur (within a 35-day window)
    - You pay per dedicated host

## **_Secure network connectivity on Azure_**
- Defense in depth: protect information and prevent it from being stolen or accessed by unauthorized people
- Layers (outside to inside)
  - ![image](https://user-images.githubusercontent.com/84464752/196028150-71a1bae2-60bb-4312-abe6-ef5052501ab3.png)
  - physical security
  - identity + access
  - perimeter (protects from DDoS attacks)
  - network
  - compute (access to VMs)
  - application
  - data
- Each layer provides protection
- Azure has security tools at each of these layers
- Security posture: your ability to protect from and respond to attacks
    - CIA
        - Confidentiality: deny access by default and only give permission to people who need it
        - Integrity: preventing changes to information when it's at rest and when it's in transit, one-way hashing algs are often used
        - Availability: ensure services are available to authorized users and nobody's degrading the systems availability (through a DDoS, for example)
- Azure Firewall
    - Firewall: monitors incoming/outgoing network traffic and decides which requests to let pass based on security rules
    - You can set rules that allow requests from a certain range of IP addresses pass through
    - Rules can also include port and network protocol info
    - Azure Firewall sits between your vnets, your on-prem network and the public web
    - It's a stateful firewall which means it analyzes the whole network connection instead of just individual packets
    - Features
        - High availability
        - Cloud scalability
        - Inbound/outbound filtering rules
        - Inbound Destination Network Address Translation (DNAT) support
        - Azure Monitor logging
    - The firewall should live on a network that connects your vnets, local networks and the internet
    - You can configure
        - rules that define fully qualified domain names (FQDNs) that can be accesses from a subnet
        - rules that define source address, protocol, destination port and destination addresses
        - Network Address Translation (NAT) rules that determine the destination IP and port for inbound requests
    - Azure also provides web application firewalls (WAFs) through Azure Application Gateway, Azure Front Door and Azure Content Delivery Network
- Azure DDoS Protection
    - A distributed denial of service attack attempts to overload an app's network resources by flooding it with requests
    - DDoS Protection uses Microsoft's global network to provide DDoS mitigation to every region
    - DDoS Protection analyses and discards DDoS traffic
    - Offers the same level of protection that Microsoft uses to protect its online services
    - Service tiers
        - Basic (free with Azure subscription)
        - Standard offers additional capabilities tuned to work specifically with Azure vnets
    - Types of attacks it protects from
        - Volumetric attacks
        - Protocol attacks (exploit weakness at L3 and L4)
        - Application layer (only applies to app firewalls, WAFs)
- Network security groups (NSGs)
    - You can authorize groups to only access specific resources within a vnet
    - You filter traffic based on source, destination, port and protocol
